<head><meta charset="UTF-8"></head>
<body></body>
<script type="module">
import { State, get, webc, _if } from '../index.js'
import { div, span } from './bindings.js'

const example = webc('mary-example', {
  props: {
    supercool: false,
    logo: {
      title: '',
      icon: '',
    },
  },
  css: `
    span {
      color: red;
    }
  `,
  render(host, { supercool, logo }) {
    const count = new State(0).sub(v => host.emit('change', v))
    host.click(e => {
      count.v++
      logo._`icon`.v = '👁‍'
    })
    return host
    (span(get`You clicked ${count} times`))
    (div()
      (get`${logo._`icon`} ${logo._`title`}`)
    )
    (_if(supercool)
      (div('💫 ⭐️ 🌟 ✨'))
      (div('⚡️ ☄️ 💥 🔥'))
    )
  },
})

const instance =
  (example('.classname')
    .supercool(true)
    .logo({ title: 'web component', icon: '🌞' })
    .on('change', e => console.log(e.detail))
  )
instance.connect(document.body)
</script>