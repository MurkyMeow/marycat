<head>
  <meta charset="UTF-8">
  <style>
  header {
    font-weight: bold;
  }
  article {
    width: 200px;
    padding: 5px 10px;
    margin-bottom: 20px;
    text-align: center;
    background: cornsilk;
  }
  article div {
    text-decoration: underline; 
  }
  </style>
</head>
<body></body>
<script type="module">
import { input } from '../form.js'
import { State, get } from '../state.js'
import { div, article, header } from './bindings.js'

const upper = str => str.toUpperCase()
const reverse = str => [...str].reverse().join('')

const text = new State('')

// This will fire after every update
// and wont affect the original value
text.after(reverse).after(upper).sub(console.log)

const Article = (title) =>
  article(null)
    (header(title))

const app =
  div('.app')
    (div('Regular div'))
    (div('#caddy')('Theres an id on me btw'))
    (Article('I have a slot!')
      (div('Hi hello hi!'))
    )
    (Article('You can click on me!')
      .click(() => alert('So fancy!'))
    )
    (input()
      .type('password')
      .bind(text) // Is this Vue xddd?
    )
    (get`Luckily, i can see that text: ${text}`)

app.connect(document.body)
</script>