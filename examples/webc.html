<head><meta charset="UTF-8"></head>
<body></body>
<script type="module">
import { State, get, webc, _if } from '../index.js'
import { div, span } from './bindings.js'

const example = webc({
  name: 'mary-example',
  props: {
    supercool: false,
    logo: {
      title: '',
      icon: '',
    },
  },
  css: `
    span {
      color: red;
    }
  `,
  init() {
    this.count = new State(0)
  },
  render(host, { supercool, logo }) {
    host.click(() => {
      this.count.v++
      logo._`icon`.v = 'ðŸ‘â€'
    })
    host.attr('test', 'foobar')
    return host
    (span(get`You clicked ${this.count} times`))
    (div()
      (get`${logo._`icon`} ${logo._`title`}`)
    )
    (_if(supercool)
      (div('ðŸ’« â­ï¸ ðŸŒŸ âœ¨'))
      (div('âš¡ï¸ â˜„ï¸ ðŸ’¥ ðŸ”¥'))
    )
  },
  bind(state) {
    this.count.sub(v => state.v = v)
    return this
  },
})

const listener = new State()
listener.sub(console.log)

const instance = example('.classname')
  .supercool(true)
  .logo({ title: 'web component', icon: 'ðŸŒž' })
  .bind(listener)
instance.connect(document.body)
</script>