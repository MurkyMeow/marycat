<head>
  <meta charset="UTF-8">
</head>
<body></body>
<script type="module">
import { div, stateful } from '../dist/bundle.js'

const test = stateful(-2)
const test2 = stateful(1234)
const obj = stateful({
  foo: 123,
  bar: 321,
})
window.key = stateful('foo')

setInterval(() => {
  test.v++
  obj.v = { foo: obj.v.foo + 1, bar: obj.v.bar + 1 }
}, 1000)
setInterval(() => test2.v++, 500)

window.observed = stateful(div('hello'))
window.div = div

const app =
  div()
    .$(div('.hello'))
    .$(div('Whoa').on('click', console.log))
    .$(div().on('click', () => console.log('hello world'))
      .$(div('.world'))
      .$(div()
        .attr$('class')`type-${test}qweq__${test2}qeqw`
        .text`state: ${test}__${test2}`
        .$(div())
        .$(div())
      )
    )
    .$(observed)
    .$(div('world'))
    .$(div(obj._`${key}`))
    .$(div(obj._`foo`))
    .$(div(obj._`bar`))
    .$(test.lt(0).and(
      div('Negative')
    ).or(test.eq(0).and(
      div('Zero')
    )).or(
      div('Positive')
    ))

app.mount(document.body)
</script>
